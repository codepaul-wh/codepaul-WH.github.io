<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring Cloud构建 |  </title>
    <meta name="description" content=" ">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/img/favicon.png">
    
    <link rel="preload" href="/assets/css/0.styles.6d3e66e0.css" as="style"><link rel="preload" href="/assets/js/app.ab60294b.js" as="script"><link rel="preload" href="/assets/js/2.0769d472.js" as="script"><link rel="preload" href="/assets/js/97.cff73008.js" as="script"><link rel="prefetch" href="/assets/js/10.d5b488e5.js"><link rel="prefetch" href="/assets/js/100.b05fe937.js"><link rel="prefetch" href="/assets/js/101.c78118ad.js"><link rel="prefetch" href="/assets/js/11.ba7209bc.js"><link rel="prefetch" href="/assets/js/12.7eb2b639.js"><link rel="prefetch" href="/assets/js/13.319a2e91.js"><link rel="prefetch" href="/assets/js/14.fe83290c.js"><link rel="prefetch" href="/assets/js/15.8a7ec64a.js"><link rel="prefetch" href="/assets/js/16.41f2dd98.js"><link rel="prefetch" href="/assets/js/17.904bc325.js"><link rel="prefetch" href="/assets/js/18.7a6246f7.js"><link rel="prefetch" href="/assets/js/19.84ab8dd3.js"><link rel="prefetch" href="/assets/js/20.04c09d1c.js"><link rel="prefetch" href="/assets/js/21.e75a2f46.js"><link rel="prefetch" href="/assets/js/22.a14b1840.js"><link rel="prefetch" href="/assets/js/23.799a37e9.js"><link rel="prefetch" href="/assets/js/24.c3eada22.js"><link rel="prefetch" href="/assets/js/25.4f11ed3d.js"><link rel="prefetch" href="/assets/js/26.375a9c03.js"><link rel="prefetch" href="/assets/js/27.bc7c4ae2.js"><link rel="prefetch" href="/assets/js/28.2250b95c.js"><link rel="prefetch" href="/assets/js/29.f568d59e.js"><link rel="prefetch" href="/assets/js/3.79868d1c.js"><link rel="prefetch" href="/assets/js/30.f7eb4129.js"><link rel="prefetch" href="/assets/js/31.94b316c6.js"><link rel="prefetch" href="/assets/js/32.428d0721.js"><link rel="prefetch" href="/assets/js/33.6064d0ca.js"><link rel="prefetch" href="/assets/js/34.711c8d67.js"><link rel="prefetch" href="/assets/js/35.2d341b53.js"><link rel="prefetch" href="/assets/js/36.d44bf3ce.js"><link rel="prefetch" href="/assets/js/37.b6844632.js"><link rel="prefetch" href="/assets/js/38.80d006c6.js"><link rel="prefetch" href="/assets/js/39.f7bee99d.js"><link rel="prefetch" href="/assets/js/4.973e9025.js"><link rel="prefetch" href="/assets/js/40.0239e47a.js"><link rel="prefetch" href="/assets/js/41.ae2fbfaa.js"><link rel="prefetch" href="/assets/js/42.dfd29a6a.js"><link rel="prefetch" href="/assets/js/43.683daf3c.js"><link rel="prefetch" href="/assets/js/44.562e4097.js"><link rel="prefetch" href="/assets/js/45.95b98fcb.js"><link rel="prefetch" href="/assets/js/46.d96aa487.js"><link rel="prefetch" href="/assets/js/47.2aca851e.js"><link rel="prefetch" href="/assets/js/48.814b9e24.js"><link rel="prefetch" href="/assets/js/49.fe2be804.js"><link rel="prefetch" href="/assets/js/5.336b97a1.js"><link rel="prefetch" href="/assets/js/50.c5a763c1.js"><link rel="prefetch" href="/assets/js/51.41e24a47.js"><link rel="prefetch" href="/assets/js/52.6c448e60.js"><link rel="prefetch" href="/assets/js/53.8c0b5684.js"><link rel="prefetch" href="/assets/js/54.8f76ab97.js"><link rel="prefetch" href="/assets/js/55.a15238f6.js"><link rel="prefetch" href="/assets/js/56.385a70ef.js"><link rel="prefetch" href="/assets/js/57.fe5f9465.js"><link rel="prefetch" href="/assets/js/58.348704b8.js"><link rel="prefetch" href="/assets/js/59.8074fc81.js"><link rel="prefetch" href="/assets/js/6.cdc6003c.js"><link rel="prefetch" href="/assets/js/60.1886e5a2.js"><link rel="prefetch" href="/assets/js/61.8cdce743.js"><link rel="prefetch" href="/assets/js/62.ccfad9c2.js"><link rel="prefetch" href="/assets/js/63.16b1771b.js"><link rel="prefetch" href="/assets/js/64.ab84024e.js"><link rel="prefetch" href="/assets/js/65.5d7c3b7a.js"><link rel="prefetch" href="/assets/js/66.d8591a18.js"><link rel="prefetch" href="/assets/js/67.73456f7e.js"><link rel="prefetch" href="/assets/js/68.f481f8f3.js"><link rel="prefetch" href="/assets/js/69.96f25530.js"><link rel="prefetch" href="/assets/js/7.46997b0a.js"><link rel="prefetch" href="/assets/js/70.0ab0d1fd.js"><link rel="prefetch" href="/assets/js/71.dd8facc4.js"><link rel="prefetch" href="/assets/js/72.ef52962d.js"><link rel="prefetch" href="/assets/js/73.0e844bfe.js"><link rel="prefetch" href="/assets/js/74.a3f222d9.js"><link rel="prefetch" href="/assets/js/75.cbbf1e57.js"><link rel="prefetch" href="/assets/js/76.79bfac66.js"><link rel="prefetch" href="/assets/js/77.536742b4.js"><link rel="prefetch" href="/assets/js/78.44d6cb00.js"><link rel="prefetch" href="/assets/js/79.2dc3f78e.js"><link rel="prefetch" href="/assets/js/8.2825b7c8.js"><link rel="prefetch" href="/assets/js/80.30f2b7e8.js"><link rel="prefetch" href="/assets/js/81.ce007e74.js"><link rel="prefetch" href="/assets/js/82.7f8e37af.js"><link rel="prefetch" href="/assets/js/83.201b9f31.js"><link rel="prefetch" href="/assets/js/84.8e750285.js"><link rel="prefetch" href="/assets/js/85.b564c207.js"><link rel="prefetch" href="/assets/js/86.85da9ef3.js"><link rel="prefetch" href="/assets/js/87.61865fb9.js"><link rel="prefetch" href="/assets/js/88.2c3e8d72.js"><link rel="prefetch" href="/assets/js/89.2b99140f.js"><link rel="prefetch" href="/assets/js/9.2a76fd8c.js"><link rel="prefetch" href="/assets/js/90.6ede089c.js"><link rel="prefetch" href="/assets/js/91.4f784eb3.js"><link rel="prefetch" href="/assets/js/92.503a04a8.js"><link rel="prefetch" href="/assets/js/93.668a1616.js"><link rel="prefetch" href="/assets/js/94.78890e02.js"><link rel="prefetch" href="/assets/js/95.4eafa307.js"><link rel="prefetch" href="/assets/js/96.8be342d2.js"><link rel="prefetch" href="/assets/js/98.2d7c9205.js"><link rel="prefetch" href="/assets/js/99.4e9998dc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6d3e66e0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/favicon.png" alt=" " class="logo"> <span class="site-name can-hide"> </span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/disclaimer/" class="nav-link">
  免责声明
</a></div><div class="nav-item"><a href="https://github.com/codepaul-wh/ErrorDescription" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/disclaimer/" class="nav-link">
  免责声明
</a></div><div class="nav-item"><a href="https://github.com/codepaul-wh/ErrorDescription" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>SpringCloud</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/springcloud/SpringCloud文档.html" class="sidebar-link">Spring Cloud文档</a></li><li><a href="/springcloud/SpringCloud构建.html" class="active sidebar-link">Spring Cloud构建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud构建.html#构建和部署" class="sidebar-link">构建和部署</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud构建.html#贡献" class="sidebar-link">贡献</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud构建.html#签署贡献者许可协议" class="sidebar-link">签署贡献者许可协议</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud构建.html#行为守则" class="sidebar-link">行为守则</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud构建.html#规范和内务守则" class="sidebar-link">规范和内务守则</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud构建.html#checkstyle" class="sidebar-link">Checkstyle</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud构建.html#ide设置" class="sidebar-link">IDE设置</a></li></ul></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud构建.html#展平pom" class="sidebar-link">展平POM</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud构建.html#重用文档" class="sidebar-link">重用文档</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud构建.html#更新指南" class="sidebar-link">更新指南</a></li></ul></li><li><a href="/springcloud/springcloudcommons.html" class="sidebar-link">云原生应用</a></li><li><a href="/springcloud/SpringCloudFunction.html" class="sidebar-link">Spring Cloud Function参考文档</a></li><li><a href="/springcloud/SpringCloudStream.html" class="sidebar-link">Spring Cloud Stream参考文档</a></li><li><a href="/springcloud/SpringCloudAWS.html" class="sidebar-link">Spring Cloud AWS</a></li><li><a href="/springcloud/SpringCloudBus.html" class="sidebar-link">Spring Cloud Bus</a></li><li><a href="/springcloud/SpringCloudTask.html" class="sidebar-link">Spring Cloud Task参考指南</a></li><li><a href="/springcloud/SpringCloudConfig.html" class="sidebar-link">Spring Cloud Config</a></li><li><a href="/springcloud/SpringCloudNetflix.html" class="sidebar-link">/springcloud/SpringCloudNetflix.html</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="spring-cloud构建"><a href="#spring-cloud构建" class="header-anchor">#</a> Spring Cloud构建</h1> <p>Spring Cloud Build是Spring Cloud的通用实用程序项目，可用于插件和依赖项管理。</p> <h2 id="构建和部署"><a href="#构建和部署" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_building_and_deploying" target="_blank" rel="noopener noreferrer">构建和部署<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <p>要在本地安装：</p> <div class="language- extra-class"><pre class="language-text"><code>$ mvn install -s .settings.xml
</code></pre></div><p>并将快照部署到repo.spring.io：</p> <div class="language- extra-class"><pre class="language-text"><code>$ mvn deploy -DaltSnapshotDeploymentRepository = repo.spring.io ::默认:: https：//repo.spring.io/libs-snapshot-local
</code></pre></div><p>供发布版本使用</p> <div class="language- extra-class"><pre class="language-text"><code>$ mvn deploy -DaltReleaseDeploymentRepository = repo.spring.io ::默认:: https：//repo.spring.io/libs-release-local
</code></pre></div><p>和供jcenter使用</p> <div class="language- extra-class"><pre class="language-text"><code>$ mvn deploy -DaltReleaseDeploymentRepository = bintray ::默认:: https：//api.bintray.com/maven/spring/jars/org.springframework.cloud：build
</code></pre></div><p>并供Maven Central使用</p> <div class="language- extra-class"><pre class="language-text"><code>$ mvn deploy -P central -DaltReleaseDeploymentRepository = sonatype-nexus-staging :: default :: https：//oss.sonatype.org/service/local/staging/deploy/maven2
</code></pre></div><p>（“中央”配置文件可用于Spring Cloud中的所有项目，并且它设置了gpg jar签名，并且必须为此项目单独指定存储库，因为它是Starter父级的父级，而用户又将其作为初始父级自己的父母）。</p> <h2 id="贡献"><a href="#贡献" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_contributing" target="_blank" rel="noopener noreferrer">贡献<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <p>Spring Cloud是在非限制性Apache 2.0许可下发布的，并且遵循非常标准的Github开发流程，使用Github跟踪程序解决问题并将合并请求合并到master中。如果您想贡献些微不足道的东西，请不要犹豫，但请遵循以下准则。</p> <h3 id="签署贡献者许可协议"><a href="#签署贡献者许可协议" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_sign_the_contributor_license_agreement" target="_blank" rel="noopener noreferrer">签署贡献者许可协议<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>在我们接受不重要的补丁或请求请求之前，我们将需要您签署“ <a href="https://cla.pivotal.io/sign/spring" target="_blank" rel="noopener noreferrer">贡献者许可协议”<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。签署贡献者协议并不会授予任何人对主存储库的提交权，但这确实意味着我们可以接受您的贡献，并且如果您这样做，您将获得作者的荣誉。可能需要活跃的贡献者加入核心团队，并具有合并合并请求的能力。</p> <h3 id="行为守则"><a href="#行为守则" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_code_of_conduct" target="_blank" rel="noopener noreferrer">行为守则<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>该项目遵守《贡献者公约》<a href="https://github.com/spring-cloud/spring-cloud-build/blob/master/docs/src/main/asciidoc/code-of-conduct.adoc" target="_blank" rel="noopener noreferrer">行为守则<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。通过参与，您将遵守此代码。请向<a href="mailto:spring-code-of-conduct@pivotal.io">spring-code-of-conduct@pivotal.io</a>报告不可接受的行为。</p> <h3 id="规范和内务守则"><a href="#规范和内务守则" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_code_conventions_and_housekeeping" target="_blank" rel="noopener noreferrer">规范和内务守则<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>这些对于拉取请求都不是必不可少的，但它们都会有所帮助。也可以在原始请求请求之后但在合并之前添加它们。</p> <ul><li>使用Spring Framework代码格式约定。如果您使用Eclipse，则可以使用<a href="https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/spring-cloud-dependencies-parent/eclipse-code-formatter.xml" target="_blank" rel="noopener noreferrer">Spring Cloud Build<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>项目中的<code>eclipse-code-formatter.xml</code>文件 导入格式化程序设置 。如果使用IntelliJ，则可以使用 <a href="https://plugins.jetbrains.com/plugin/6546" target="_blank" rel="noopener noreferrer">Eclipse Code Formatter插件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>来导入相同的文件。</li> <li>确保所有新<code>.java</code>文件都具有简单的Javadoc类注释，其中至少包含一个<code>@author</code>用于标识您的 标签，并且最好至少包含有关该类用途的段落。</li> <li>将ASF许可证标头注释添加到所有新<code>.java</code>文件（从项目中的现有文件复制）</li> <li>将您自己添加为<code>@author</code>您进行了实质性修改（而不是外观更改）的.java文件。</li> <li>添加一些Javadocs，如果更改名称空间，则添加一些XSD doc元素。</li> <li>进行一些单元测试也有很大帮助-有人必须这样做。</li> <li>如果没有其他人在使用您的分支，请根据当前的主节点（或主项目中的其他目标分支）对其进行重新设置。</li> <li>编写提交消息时，请遵循<a href="https://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html" target="_blank" rel="noopener noreferrer">以下约定<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，如果要解决现有问题，请<code>Fixes gh-XXXX</code>在提交消息的末尾添加（其中XXXX是问题编号）。</li></ul> <h3 id="checkstyle"><a href="#checkstyle" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_checkstyle" target="_blank" rel="noopener noreferrer">Checkstyle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>Spring Cloud Build带有一组checkstyle规则。您可以在<code>spring-cloud-build-tools</code>模块中找到它们。该模块下最值得注意的文件是：</p> <p>spring-cloud-build-tools /</p> <div class="language- extra-class"><pre class="language-text"><code>└──src
    ├──格纹
    │└──checkstyle-suppressions.xml 
    └──主要
        └──资源
            ├──checkstyle-header.txt 
            └──checkstyle.xml 
</code></pre></div><table><thead><tr><th></th> <th>默认Checkstyle规则</th></tr></thead> <tbody><tr><td></td> <td>文件头设置</td></tr> <tr><td></td> <td>默认抑制规则</td></tr></tbody></table> <h4 id="checkstyle配置"><a href="#checkstyle配置" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_checkstyle_configuration" target="_blank" rel="noopener noreferrer">Checkstyle配置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <p>Checkstyle规则<strong>默认</strong>为<strong>禁用</strong>。要将checkstyle添加到项目中，只需定义以下属性和插件。</p> <p>pom.xml</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;属性&gt;
&lt;maven-checkstyle-plugin.failsOnError&gt; true &lt;/maven-checkstyle-plugin.failsOnError&gt; 
        &lt;maven-checkstyle-plugin.failsOnViolation&gt;是
        &lt;/maven-checkstyle-plugin.failsOnViolation&gt; 
        &lt;maven-checkstyle-plugin.includeTestSourceDirectory&gt; true
        &lt;/maven-checkstyle-plugin.includeTestSourceDirectory&gt; 
&lt;/ properties&gt;

&lt;内部版本&gt;
        &lt;插件&gt;
            &lt;插件&gt; 
                &lt;groupId&gt; io.spring.javaformat &lt;/ groupId&gt;
                &lt;artifactId&gt; spring-javaformat-maven-plugin &lt;/ artifactId&gt;
            &lt;/ plugin&gt;
            &lt;插件&gt; 
                &lt;groupId&gt; org.apache.maven.plugins &lt;/ groupId&gt;
                &lt;artifactId&gt; maven-checkstyle-plugin &lt;/ artifactId&gt;
            &lt;/ plugin&gt;
        &lt;/ plugins&gt;

    &lt;报告&gt;
        &lt;插件&gt;
            &lt;插件&gt; 
                &lt;groupId&gt; org.apache.maven.plugins &lt;/ groupId&gt;
                &lt;artifactId&gt; maven-checkstyle-plugin &lt;/ artifactId&gt;
            &lt;/ plugin&gt;
        &lt;/ plugins&gt;
    &lt;/ reporting&gt;
&lt;/ build&gt;
</code></pre></div><table><thead><tr><th></th> <th>因Checkstyle错误而无法构建</th></tr></thead> <tbody><tr><td></td> <td>因Checkstyle违规而无法构建</td></tr> <tr><td></td> <td>Checkstyle还分析测试源</td></tr> <tr><td></td> <td>添加Spring Java Format插件，它将重新格式化您的代码以通过大多数Checkstyle格式化规则</td></tr> <tr><td></td> <td>将Checkstyle插件添加到构建和报告阶段</td></tr></tbody></table> <p>如果您需要取消某些规则（例如，行长需要更长），那么您就可以通过<code>${project.root}/src/checkstyle/checkstyle-suppressions.xml</code>抑制来定义一个文件。例：</p> <p>projectRoot / src / checkstyle / checkstyle-suppresions.xml</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;？xml version =“ 1.0”？&gt;
&lt;！DOCTYPE禁止显示PUBLIC
		“-//小狗爬网// DTD抑制1.1 // EN”
		“ https://www.puppycrawl.com/dtds/suppressions_1_1.dtd“&gt;
&lt;抑制&gt;
	&lt;suppress files =“。* ConfigServerApplication \ .java” checks =“ HideUtilityClassConstructor” /&gt;
	&lt;suppress files =“。* ConfigClientWatch \ .java” checks =“ LineLengthCheck” /&gt;
&lt;/ suppressions&gt;
</code></pre></div><p>建议将<code>${spring-cloud-build.rootFolder}/.editorconfig</code>和复制<code>${spring-cloud-build.rootFolder}/.springformat</code>到您的项目中。这样，将应用一些默认格式设置规则。您可以通过运行以下脚本来这样做：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/.editorconfig -o .editorconfig
$ <span class="token function">touch</span> .springformat
</code></pre></div><h3 id="ide设置"><a href="#ide设置" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_ide_setup" target="_blank" rel="noopener noreferrer">IDE设置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <h4 id="intellij-idea"><a href="#intellij-idea" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_intellij_idea" target="_blank" rel="noopener noreferrer">Intellij IDEA<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <p>为了设置Intellij，您应该导入我们的编码约定，检查配置文件并设置checkstyle插件。在<a href="https://github.com/spring-cloud/spring-cloud-build/tree/master/spring-cloud-build-tools" target="_blank" rel="noopener noreferrer">Spring Cloud Build<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>项目中可以找到以下文件。</p> <p>spring-cloud-build-tools /</p> <div class="language- extra-class"><pre class="language-text"><code>└──src
    ├──格纹
    │└──checkstyle-suppressions.xml 
    └──主要
        └──资源
            ├──checkstyle-header.txt 
            ├──checkstyle.xml 
            └──intellij
                ├──Intellij_Project_Defaults.xml 
                └──Intellij_Spring_Boot_Java_Conventions.xml 
</code></pre></div><table><thead><tr><th></th> <th>默认Checkstyle规则</th></tr></thead> <tbody><tr><td></td> <td>文件头设置</td></tr> <tr><td></td> <td>默认抑制规则</td></tr> <tr><td></td> <td>适用于大多数Checkstyle规则的Intellij项目默认值</td></tr> <tr><td></td> <td>适用于大多数Checkstyle规则的Intellij的项目样式约定</td></tr></tbody></table> <p><img src="https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/docs/src/main/asciidoc/images/intellij-code-style.png" alt="代码风格"></p> <p>图1.代码样式</p> <p>进入<code>File</code>→交通<code>Settings</code>→交通<code>Editor</code>→交通<code>Code style</code>。单击该<code>Scheme</code>部分旁边的图标。在那里，单击<code>Import Scheme</code>值并选择<code>Intellij IDEA code style XML</code>选项。导入<code>spring-cloud-build-tools/src/main/resources/intellij/Intellij_Spring_Boot_Java_Conventions.xml</code>文件。</p> <p><img src="https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/docs/src/main/asciidoc/images/intellij-inspections.png" alt="代码风格"></p> <p>图2.检查配置文件</p> <p>进入<code>File</code>→交通<code>Settings</code>→交通<code>Editor</code>→交通<code>Inspections</code>。单击该<code>Profile</code>部分旁边的图标。在此处，单击<code>Import Profile</code>并导入<code>spring-cloud-build-tools/src/main/resources/intellij/Intellij_Project_Defaults.xml</code>文件。</p> <p>Checkstyle</p> <p>要使Intellij与Checkstyle一起使用，您必须安装<code>Checkstyle</code>插件。建议还安装<code>Assertions2Assertj</code>来自动转换JUnit断言</p> <p><img src="https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/docs/src/main/asciidoc/images/intellij-checkstyle.png" alt="Checkstyle"></p> <p>进入<code>File</code>→交通<code>Settings</code>→交通<code>Other settings</code>→交通<code>Checkstyle</code>。单击<code>+</code>该<code>Configuration file</code>部分中的图标。在这里，您必须定义应从何处选择checkstyle规则。在上图中，我们从克隆的Spring Cloud Build存储库中选择了规则。但是，您可以指向春云构建计划的GitHub的库（例如用于<code>checkstyle.xml</code>：<code>https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/spring-cloud-build-tools/src/main/resources/checkstyle.xml</code>）。我们需要提供以下变量：</p> <ul><li><code>checkstyle.header.file</code>-请指向<code>spring-cloud-build-tools/src/main/resources/checkstyle-header.txt</code>克隆存储库中或通过<code>https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/spring-cloud-build-tools/src/main/resources/checkstyle-header.txt</code>URL 的Spring Cloud Build 文件。</li> <li><code>checkstyle.suppressions.file</code>-默认抑制。请将其指向Spring Cloud Build的<code>spring-cloud-build-tools/src/checkstyle/checkstyle-suppressions.xml</code>文件，该文件在您的克隆存储库中或通过<code>https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/spring-cloud-build-tools/src/checkstyle/checkstyle-suppressions.xml</code>URL。</li> <li><code>checkstyle.additional.suppressions.file</code>-此变量对应于本地项目中的抑制。例如，您正在努力<code>spring-cloud-contract</code>。然后指向该<code>project-root/src/checkstyle/checkstyle-suppressions.xml</code>文件夹。的示例为<code>spring-cloud-contract</code>：<code>/home/username/spring-cloud-contract/src/checkstyle/checkstyle-suppressions.xml</code>。</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>请记住将其设置为<code>Scan Scope</code>，<code>All sources</code>因为我们将checkstyle规则应用于生产和测试源。</p></div> <h2 id="展平pom"><a href="#展平pom" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_flattening_the_poms" target="_blank" rel="noopener noreferrer">展平POM<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <p>为了避免传播构建Spring Cloud项目所需的构建设置，我们使用了maven flatten插件。它的优点是可以在将“干净”的pom发布到存储库时使用所需的任何功能。</p> <p>为了添加它，请将添加<code>org.codehaus.mojo:flatten-maven-plugin</code>到您的中<code>pom.xml</code>。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.codehaus.mojo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>flatten-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="重用文档"><a href="#重用文档" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_reusing_the_documentation" target="_blank" rel="noopener noreferrer">重用文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <p>Spring Cloud Build发布其<code>spring-cloud-build-docs</code>模块，该模块包含有用的脚本（例如README生成ruby脚本）以及CSS，xslt和Spring Cloud文档的图像。如果要遵循生成文档的相同约定，只需将这些插件添加到<code>docs</code>模块中</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>docs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>pl.project13.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>git-commit-id-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> 
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-dependency-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> 
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-resources-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> 
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.codehaus.mojo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>exec-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> 
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.asciidoctor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>asciidoctor-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> 
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-antrun-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> 
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th></th> <th>该插件下载可设置项目的所有git信息</th></tr></thead> <tbody><tr><td></td> <td>该插件下载<code>spring-cloud-build-docs</code>模块的资源</td></tr> <tr><td></td> <td>该插件解压缩<code>spring-cloud-build-docs</code>模块的资源</td></tr> <tr><td></td> <td>此插件会<code>adoc</code>从类路径生成具有所有配置属性的文件</td></tr> <tr><td></td> <td>解析Asciidoctor文档需要此插件</td></tr> <tr><td></td> <td>需要使用此插件将资源复制到正确的最终目标并生成主README.adoc并断言没有文件使用未解析的链接</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>插件声明的顺序很重要！</p></div> <p>为了使生成的<code>adoc</code>文件具有所有配置属性，<code>docs</code>模块应包含要扫描配置属性的类路径上的所有依赖项。该文件将输出到<code>${docsModule}/src/main/asciidoc/_configprops.adoc</code>文件（可通过<code>configprops.path</code>属性配置）。</p> <p>如果要修改表中的哪些配置属性，则可以调整<code>configprops.inclusionPattern</code>模式以仅包括属性的子集（例如<code>&lt;configprops.inclusionPattern&gt;spring.sleuth.*&lt;/configprops.inclusionPattern&gt;</code>）。</p> <p>Spring Cloud Build Docs附带了一组可重复使用的asciidoctor属性。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attributes</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>docinfo</span><span class="token punctuation">&gt;</span></span>shared<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>docinfo</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>allow-uri-read</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>allow-uri-read</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nofooter</span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>toc</span><span class="token punctuation">&gt;</span></span>left<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>toc</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>toc-levels</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>toc-levels</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sectlinks</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sectlinks</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sources-root</span><span class="token punctuation">&gt;</span></span>${project.basedir}/src<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sources-root</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>asciidoc-sources-root</span><span class="token punctuation">&gt;</span></span>${project.basedir}/src/main/asciidoc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>asciidoc-sources-root</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generated-resources-root</span><span class="token punctuation">&gt;</span></span>${project.basedir}/target/generated-resources
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>generated-resources-root</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- Use this attribute the reference code from another module --&gt;</span>
	<span class="token comment">&lt;!-- Note the @ at the end, lowering the precedence of the attribute --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project-root</span><span class="token punctuation">&gt;</span></span>${maven.multiModuleProjectDirectory}@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project-root</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- It's mandatory for you to pass the docs.main property --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>github-repo</span><span class="token punctuation">&gt;</span></span>${docs.main}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>github-repo</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>github-raw</span><span class="token punctuation">&gt;</span></span>
		https://raw.githubusercontent.com/spring-cloud/${docs.main}/${github-tag}@
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>github-raw</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>github-code</span><span class="token punctuation">&gt;</span></span>https://github.com/spring-cloud/${docs.main}/tree/${github-tag}@
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>github-code</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>github-issues</span><span class="token punctuation">&gt;</span></span>https://github.com/spring-cloud/${docs.main}/issues/@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>github-issues</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>github-wiki</span><span class="token punctuation">&gt;</span></span>https://github.com/spring-cloud/${docs.main}/wiki@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>github-wiki</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>github-master-code</span><span class="token punctuation">&gt;</span></span>https://github.com/spring-cloud/${docs.main}/tree/master
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>github-master-code</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>index-link</span><span class="token punctuation">&gt;</span></span>${index-link}@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>index-link</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- Spring Cloud specific --&gt;</span>
	<span class="token comment">&lt;!-- for backward compatibility --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-cloud-version</span><span class="token punctuation">&gt;</span></span>${project.version}@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-cloud-version</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project-version</span><span class="token punctuation">&gt;</span></span>${project.version}@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project-version</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>github-tag</span><span class="token punctuation">&gt;</span></span>${github-tag}@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>github-tag</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version-type</span><span class="token punctuation">&gt;</span></span>${version-type}@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version-type</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>docs-url</span><span class="token punctuation">&gt;</span></span>${docs-url}@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>docs-url</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>raw-docs-url</span><span class="token punctuation">&gt;</span></span>${raw-docs-url}@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>raw-docs-url</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project-version</span><span class="token punctuation">&gt;</span></span>${project.version}@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project-version</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project-name</span><span class="token punctuation">&gt;</span></span>${docs.main}@<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project-name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attributes</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="更新指南"><a href="#更新指南" class="header-anchor">#</a> <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_updating_the_guides" target="_blank" rel="noopener noreferrer">更新指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <p>我们假设您的项目在该<code>guides</code>文件夹下包含指南。</p> <div class="language- extra-class"><pre class="language-text"><code>.
└── guides
    ├── gs-guide1
    ├── gs-guide2
    └── gs-guide3
</code></pre></div><p>这意味着该项目包含3个指南，它们与Spring Guides org中的以下指南相对应。</p> <ul><li>https://github.com/spring-guides/gs-guide1</li> <li>https://github.com/spring-guides/gs-guide2</li> <li>https://github.com/spring-guides/gs-guide3</li></ul> <p>如果您使用这样的<code>-Pguides</code>配置文件部署项目</p> <div class="language- extra-class"><pre class="language-text"><code>$ ./mvnw clean deploy -Pguides
</code></pre></div><p>对于GA项目版本，将发生克隆<code>gs-guide1</code>，<code>gs-guide2</code>并<code>gs-guide3</code>使用您<code>guides</code>项目中的内容更新其内容。</p> <p>您可以通过不添加<code>guides</code>配置文件或<code>-DskipGuides</code>在打开配置文件时传递系统属性来跳过此操作。</p> <p>您可以配置通过传递给指南的项目版本<code>guides-project.version</code>（默认为<code>${project.version}</code>）。可以通过<code>guides-update.phase</code>（默认为<code>deploy</code>）配置指南更新的阶段。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/springcloud/SpringCloud文档.html" class="prev">
        Spring Cloud文档
      </a></span> <span class="next"><a href="/springcloud/springcloudcommons.html">
        云原生应用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ab60294b.js" defer></script><script src="/assets/js/2.0769d472.js" defer></script><script src="/assets/js/97.cff73008.js" defer></script>
  </body>
</html>
