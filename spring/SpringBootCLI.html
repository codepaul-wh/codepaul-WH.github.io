<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring Boot CLI |  </title>
    <meta name="description" content=" ">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="sodoc/favicon.png">
    
    <link rel="preload" href="/assets/css/0.styles.6d3e66e0.css" as="style"><link rel="preload" href="/assets/js/app.b6fcbba0.js" as="script"><link rel="preload" href="/assets/js/2.0769d472.js" as="script"><link rel="preload" href="/assets/js/76.ec1c236a.js" as="script"><link rel="prefetch" href="/assets/js/10.d5b488e5.js"><link rel="prefetch" href="/assets/js/11.ba7209bc.js"><link rel="prefetch" href="/assets/js/12.e31b0e29.js"><link rel="prefetch" href="/assets/js/13.319a2e91.js"><link rel="prefetch" href="/assets/js/14.9538d3bb.js"><link rel="prefetch" href="/assets/js/15.974e2eb6.js"><link rel="prefetch" href="/assets/js/16.4623b410.js"><link rel="prefetch" href="/assets/js/17.1454305d.js"><link rel="prefetch" href="/assets/js/18.0ea0d9aa.js"><link rel="prefetch" href="/assets/js/19.7ec36aa9.js"><link rel="prefetch" href="/assets/js/20.0a0492c5.js"><link rel="prefetch" href="/assets/js/21.92a8470b.js"><link rel="prefetch" href="/assets/js/22.a14b1840.js"><link rel="prefetch" href="/assets/js/23.4afb0e67.js"><link rel="prefetch" href="/assets/js/24.3e389629.js"><link rel="prefetch" href="/assets/js/25.4f11ed3d.js"><link rel="prefetch" href="/assets/js/26.efa31e99.js"><link rel="prefetch" href="/assets/js/27.20ddc719.js"><link rel="prefetch" href="/assets/js/28.eed927de.js"><link rel="prefetch" href="/assets/js/29.079ab1e8.js"><link rel="prefetch" href="/assets/js/3.79868d1c.js"><link rel="prefetch" href="/assets/js/30.1e0924ee.js"><link rel="prefetch" href="/assets/js/31.08adf573.js"><link rel="prefetch" href="/assets/js/32.428d0721.js"><link rel="prefetch" href="/assets/js/33.f0ef16bb.js"><link rel="prefetch" href="/assets/js/34.711c8d67.js"><link rel="prefetch" href="/assets/js/35.85fcf2f6.js"><link rel="prefetch" href="/assets/js/36.5eed3faf.js"><link rel="prefetch" href="/assets/js/37.65bd79fc.js"><link rel="prefetch" href="/assets/js/38.81db9686.js"><link rel="prefetch" href="/assets/js/39.e6b17a18.js"><link rel="prefetch" href="/assets/js/4.4c9f5a13.js"><link rel="prefetch" href="/assets/js/40.0e9f5587.js"><link rel="prefetch" href="/assets/js/41.9b84126f.js"><link rel="prefetch" href="/assets/js/42.ddc9ec9e.js"><link rel="prefetch" href="/assets/js/43.449fd971.js"><link rel="prefetch" href="/assets/js/44.ea48d1be.js"><link rel="prefetch" href="/assets/js/45.b98f0109.js"><link rel="prefetch" href="/assets/js/46.eb43d47f.js"><link rel="prefetch" href="/assets/js/47.ad56abc0.js"><link rel="prefetch" href="/assets/js/48.ad335a45.js"><link rel="prefetch" href="/assets/js/49.a744b401.js"><link rel="prefetch" href="/assets/js/5.229daaa0.js"><link rel="prefetch" href="/assets/js/50.ddfc0b0b.js"><link rel="prefetch" href="/assets/js/51.eec401d9.js"><link rel="prefetch" href="/assets/js/52.da7fa7ff.js"><link rel="prefetch" href="/assets/js/53.e1e2e23b.js"><link rel="prefetch" href="/assets/js/54.74848120.js"><link rel="prefetch" href="/assets/js/55.2f8c0ec8.js"><link rel="prefetch" href="/assets/js/56.d347dd0b.js"><link rel="prefetch" href="/assets/js/57.8a44d824.js"><link rel="prefetch" href="/assets/js/58.10ca6d35.js"><link rel="prefetch" href="/assets/js/59.f8d54318.js"><link rel="prefetch" href="/assets/js/6.cdc6003c.js"><link rel="prefetch" href="/assets/js/60.e6ec0e43.js"><link rel="prefetch" href="/assets/js/61.2fa7526b.js"><link rel="prefetch" href="/assets/js/62.62b59d3e.js"><link rel="prefetch" href="/assets/js/63.87ab7859.js"><link rel="prefetch" href="/assets/js/64.be84d16f.js"><link rel="prefetch" href="/assets/js/65.917244dc.js"><link rel="prefetch" href="/assets/js/66.57f646dd.js"><link rel="prefetch" href="/assets/js/67.f15ba865.js"><link rel="prefetch" href="/assets/js/68.f174a83b.js"><link rel="prefetch" href="/assets/js/69.5043f1f7.js"><link rel="prefetch" href="/assets/js/7.e24d52f3.js"><link rel="prefetch" href="/assets/js/70.84e47d9c.js"><link rel="prefetch" href="/assets/js/71.30c55144.js"><link rel="prefetch" href="/assets/js/72.66c4f565.js"><link rel="prefetch" href="/assets/js/73.73667b18.js"><link rel="prefetch" href="/assets/js/74.84caaa20.js"><link rel="prefetch" href="/assets/js/75.9525ea19.js"><link rel="prefetch" href="/assets/js/77.fa787e3b.js"><link rel="prefetch" href="/assets/js/78.9227621f.js"><link rel="prefetch" href="/assets/js/79.dbea9a05.js"><link rel="prefetch" href="/assets/js/8.1f18086b.js"><link rel="prefetch" href="/assets/js/80.fabc8f2d.js"><link rel="prefetch" href="/assets/js/81.12a715f0.js"><link rel="prefetch" href="/assets/js/82.0a160e72.js"><link rel="prefetch" href="/assets/js/83.f6da7255.js"><link rel="prefetch" href="/assets/js/84.a34701a7.js"><link rel="prefetch" href="/assets/js/85.fc0f1ce9.js"><link rel="prefetch" href="/assets/js/86.2d59d78d.js"><link rel="prefetch" href="/assets/js/87.bfbb78e2.js"><link rel="prefetch" href="/assets/js/88.8f033d62.js"><link rel="prefetch" href="/assets/js/89.8d3bb835.js"><link rel="prefetch" href="/assets/js/9.e1c888cc.js"><link rel="prefetch" href="/assets/js/90.dd1fc686.js"><link rel="prefetch" href="/assets/js/91.30ce9023.js"><link rel="prefetch" href="/assets/js/92.7da53901.js"><link rel="prefetch" href="/assets/js/93.fbb2d9d8.js"><link rel="prefetch" href="/assets/js/94.246aadc9.js"><link rel="prefetch" href="/assets/js/95.bd281ef2.js"><link rel="prefetch" href="/assets/js/96.03bf67a7.js"><link rel="prefetch" href="/assets/js/97.d0f3c34f.js"><link rel="prefetch" href="/assets/js/98.bb41cb1c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6d3e66e0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name"> </span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/disclaimer/" class="nav-link">
  免责声明
</a></div><div class="nav-item"><a href="https://github.com/codepaul-wh/ErrorDescription" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/disclaimer/" class="nav-link">
  免责声明
</a></div><div class="nav-item"><a href="https://github.com/codepaul-wh/ErrorDescription" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>SpringBoot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/spring/" class="sidebar-link">Spring Boot参考文档</a></li><li><a href="/spring/法律.html" class="sidebar-link">法律</a></li><li><a href="/spring/文档概述.html" class="sidebar-link">文档概述</a></li><li><a href="/spring/入门.html" class="sidebar-link">入门</a></li><li><a href="/spring/使用SpringBoot.html" class="sidebar-link">使用Spring Boot</a></li><li><a href="/spring/SpringBoot功能.html" class="sidebar-link">Spring Boot功能</a></li><li><a href="/spring/SpringBoot启动执行器.html" class="sidebar-link">Spring Boot启动执行器：生产就绪功能</a></li><li><a href="/spring/部署SpringBoot应用程序.html" class="sidebar-link">部署Spring Boot应用程序</a></li><li><a href="/spring/SpringBootCLI.html" class="active sidebar-link">Spring Boot CLI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/SpringBootCLI.html#_1-安装cli" class="sidebar-link">1.安装CLI</a></li><li class="sidebar-sub-header"><a href="/spring/SpringBootCLI.html#_2-使用cli" class="sidebar-link">2.使用CLI</a></li><li class="sidebar-sub-header"><a href="/spring/SpringBootCLI.html#_3-使用groovy-bean-dsl开发应用程序" class="sidebar-link">3.使用Groovy Bean DSL开发应用程序</a></li><li class="sidebar-sub-header"><a href="/spring/SpringBootCLI.html#_4-使用以下命令配置cli-settings-xml" class="sidebar-link">4.使用以下命令配置CLI settings.xml</a></li><li class="sidebar-sub-header"><a href="/spring/SpringBootCLI.html#_5-接下来阅读什么" class="sidebar-link">5.接下来阅读什么</a></li></ul></li><li><a href="/spring/生成工具插件.html" class="sidebar-link">生成工具插件</a></li><li><a href="/spring/使用方法指南.html" class="sidebar-link">“使用方法”指南</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="spring-boot-cli"><a href="#spring-boot-cli" class="header-anchor">#</a> Spring Boot CLI</h1> <p>Spring Boot CLI是一个命令行工具，如果您想快速开发Spring应用程序，可以使用它。它使您可以运行Groovy脚本，这意味着您具有类似Java的熟悉语法，而没有太多样板代码。您还可以引导一个新项目或为其编写自己的命令。</p> <h2 id="_1-安装cli"><a href="#_1-安装cli" class="header-anchor">#</a> 1.安装CLI</h2> <p>可以使用SDKMAN手动安装Spring Boot CLI（命令行界面）！（SDK Manager）或使用Homebrew或MacPorts（如果您是OSX用户）。有关全面的安装说明，请参见“入门”部分中的<em>getting-started.html</em>。</p> <h2 id="_2-使用cli"><a href="#_2-使用cli" class="header-anchor">#</a> 2.使用CLI</h2> <p>安装CLI后，可以通过<code>spring</code>在命令行中键入并按Enter 来运行它。如果<code>spring</code>不带任何参数运行，将显示一个简单的帮助屏幕，如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$春天
用法：spring [--help] [--version]
       &lt;命令&gt; [&lt;参数&gt;]

可用的命令有：

  运行[选项] &lt;文件&gt; [-] [参数]
    运行Spring Groovy脚本

  ...更多命令帮助显示在这里
</code></pre></div><p>您可以键入<code>spring help</code>以获取有关任何受支持命令的更多详细信息，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$ spring帮助运行
春季运行-运行春季groovy脚本

用法：春季运行[选项] &lt;文件&gt; [-] [参数]

选项说明
------ -----------
--autoconfigure [布尔]添加自动配置编译器
                             转换（默认值：true）
--classpath，-cp其他类路径条目
--no-guess-dependencies不要试图猜测依赖
--no-guess-imports不要尝试猜测输入
-q，--quiet安静的日志记录
-v，--verbose详细记录依赖项
                             解析度
--watch监视指定文件的更改
</code></pre></div><p>该<code>version</code>命令提供了一种快速的方法来检查您使用的Spring Boot版本，如下所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$春季版
Spring CLI v2.2.2.RELEASE
</code></pre></div><h3 id="_2-1。使用cli运行应用程序"><a href="#_2-1。使用cli运行应用程序" class="header-anchor">#</a> 2.1。使用CLI运行应用程序</h3> <p>您可以使用以下<code>run</code>命令编译并运行Groovy源代码。Spring Boot CLI是完全独立的，因此您不需要任何外部Groovy安装。</p> <p>以下示例显示了用Groovy编写的“ hello world” Web应用程序：</p> <p>你好。</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">class</span> <span class="token class-name">WebApplication</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string gstring">&quot;/&quot;</span><span class="token punctuation">)</span>
    String <span class="token function">home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token string gstring">&quot;Hello World!&quot;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>要编译并运行该应用程序，请键入以下命令：</p> <div class="language- extra-class"><pre class="language-text"><code>$ spring run hello.groovy
</code></pre></div><p>要将命令行参数传递给应用程序，请使用<code>--</code>将命令与“ spring”命令参数分开，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$ spring run hello.groovy---server.port = 9000
</code></pre></div><p>要设置JVM命令行参数，可以使用<code>JAVA_OPTS</code>环境变量，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$ JAVA_OPTS = -Xmx1024m春季运行hello.groovy
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>JAVA_OPTS</code>在Microsoft Windows上进行 设置时，请确保引用整个说明，例如<code>set &quot;JAVA_OPTS=-Xms256m -Xmx2048m&quot;</code>。这样做可以确保将值正确传递给流程。</p></div> <h4 id="_2-1-1。推导的-抓取-依赖性"><a href="#_2-1-1。推导的-抓取-依赖性" class="header-anchor">#</a> 2.1.1。推导的“抓取”依赖性</h4> <p>标准Groovy包含一个<code>@Grab</code>注释，使您可以声明对第三方库的依赖关系。Groovy可以使用这种有用的技术以与Maven或Gradle相同的方式下载jar，而无需使用构建工具。</p> <p>Spring Boot进一步扩展了该技术，并尝试根据您的代码推断出哪些库可以“抢”。例如，由于<code>WebApplication</code>先前显示的代码使用<code>@RestController</code>注释，因此Spring Boot会获取“ Tomcat”和“ Spring MVC”。</p> <p>以下各项用作“抓取提示”：</p> <table><thead><tr><th style="text-align:left;">物品</th> <th style="text-align:left;">抓斗</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>JdbcTemplate</code>，<code>NamedParameterJdbcTemplate</code>，<code>DataSource</code></td> <td style="text-align:left;">JDBC应用程序。</td></tr> <tr><td style="text-align:left;"><code>@EnableJms</code></td> <td style="text-align:left;">JMS应用程序。</td></tr> <tr><td style="text-align:left;"><code>@EnableCaching</code></td> <td style="text-align:left;">缓存抽象。</td></tr> <tr><td style="text-align:left;"><code>@Test</code></td> <td style="text-align:left;">JUnit的。</td></tr> <tr><td style="text-align:left;"><code>@EnableRabbit</code></td> <td style="text-align:left;">RabbitMQ。</td></tr> <tr><td style="text-align:left;">延伸 <code>Specification</code></td> <td style="text-align:left;">Spock测试。</td></tr> <tr><td style="text-align:left;"><code>@EnableBatchProcessing</code></td> <td style="text-align:left;">春季批。</td></tr> <tr><td style="text-align:left;"><code>@MessageEndpoint</code> <code>@EnableIntegration</code></td> <td style="text-align:left;">春季整合。</td></tr> <tr><td style="text-align:left;"><code>@Controller</code> <code>@RestController</code> <code>@EnableWebMvc</code></td> <td style="text-align:left;">Spring MVC +嵌入式Tomcat。</td></tr> <tr><td style="text-align:left;"><code>@EnableWebSecurity</code></td> <td style="text-align:left;">春季安全。</td></tr> <tr><td style="text-align:left;"><code>@EnableTransactionManagement</code></td> <td style="text-align:left;">春季交易管理。</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>请参阅<a href="https://github.com/spring-projects/spring-boot/tree/v2.2.2.RELEASE/spring-boot-project/spring-boot-cli/src/main/java/org/springframework/boot/cli/compiler/CompilerAutoConfiguration.java" target="_blank" rel="noopener noreferrer"><code>CompilerAutoConfiguration</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>Spring Boot CLI源代码中的子类，以准确了解如何应用定制。</p></div> <h4 id="_2-1-2。推导-抓取-坐标"><a href="#_2-1-2。推导-抓取-坐标" class="header-anchor">#</a> 2.1.2。推导“抓取”坐标</h4> <p>Spring Boot扩展了Groovy的标准<code>@Grab</code>支持，允许您指定不带组或版本的依赖项（例如<code>@Grab('freemarker')</code>）。这样做参考Spring Boot的默认依赖元数据来推断工件的组和版本。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>默认元数据与您使用的CLI版本相关。仅当您移至新版本的CLI时，它才会更改，从而使您可以控制依赖项的版本何时更改。在<a href="https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/reference/html/appendix-dependency-versions.html#appendix-dependency-versions" target="_blank" rel="noopener noreferrer">附录中<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>可以找到一个表格，其中显示了默认元数据中包含的依赖关系及其版本。</p></div> <h4 id="_2-1-3。默认导入语句"><a href="#_2-1-3。默认导入语句" class="header-anchor">#</a> 2.1.3。默认导入语句</h4> <p>为了帮助减少Groovy代码的大小，将<code>import</code>自动包含多个语句。请注意前面的例子中如何引用<code>@Component</code>，<code>@RestController</code>以及<code>@RequestMapping</code>无需使用完全合格的名称或<code>import</code>说明。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>许多Spring注释无需使用<code>import</code>语句即可工作。在添加导入之前，请尝试运行您的应用程序以查看失败的原因。</p></div> <h4 id="_2-1-4。自动主要方法"><a href="#_2-1-4。自动主要方法" class="header-anchor">#</a> 2.1.4。自动主要方法</h4> <p>与等效的Java应用程序不同，您不需要<code>public static void main(String[] args)</code>在<code>Groovy</code>脚本中包含方法。系统<code>SpringApplication</code>会自动创建A ，并将您的编译后的代码用作<code>source</code>。</p> <h4 id="_2-1-5。自定义依赖管理"><a href="#_2-1-5。自定义依赖管理" class="header-anchor">#</a> 2.1.5。自定义依赖管理</h4> <p>默认情况下，CLI使用<code>spring-boot-dependencies</code>解析<code>@Grab</code>依赖项时声明的依赖项管理。可以使用<code>@DependencyManagementBom</code>注释来配置其他依赖项管理，这些依赖项管理将覆盖默认的依赖项管理。注释的值应指定<code>groupId:artifactId:version</code>一个或多个Maven BOM 的坐标（）。</p> <p>例如，考虑以下声明：</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token annotation punctuation">@DependencyManagementBom</span><span class="token punctuation">(</span><span class="token string gstring">&quot;com.example.custom-bom:1.0.0&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>前面的声明<code>custom-bom-1.0.0.pom</code>在的Maven存储库中提取<code>com/example/custom-versions/1.0.0/</code>。</p> <p>指定多个BOM时，它们以声明它们的顺序应用，如下例所示：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@DependencyManagementBom</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;com.example.custom-bom:1.0.0&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;com.example.another-bom:1.0.0&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>前面的示例表明中的依赖项管理<code>another-bom</code>覆盖中的依赖项管理<code>custom-bom</code>。</p> <p>您可以<code>@DependencyManagementBom</code>在任何可以使用的地方使用<code>@Grab</code>。但是，为了确保依赖性管理的顺序一致，您可以<code>@DependencyManagementBom</code>在应用程序中最多使用一次。</p> <h3 id="_2-2。具有多个源文件的应用程序"><a href="#_2-2。具有多个源文件的应用程序" class="header-anchor">#</a> 2.2。具有多个源文件的应用程序</h3> <p>您可以对所有接受文件输入的命令使用“ shell globbing”。这样可以使您从单个目录使用多个文件，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$春季运行* .groovy
</code></pre></div><h3 id="_2-3。打包您的应用程序"><a href="#_2-3。打包您的应用程序" class="header-anchor">#</a> 2.3。打包您的应用程序</h3> <p>您可以使用该<code>jar</code>命令将应用程序打包到一个独立的可执行jar文件中，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$ spring jar my-app.jar * .groovy
</code></pre></div><p>生成的jar包含通过编译应用程序产生的类以及应用程序的所有依赖关系，以便可以使用来运行它<code>java -jar</code>。jar文件还包含来自应用程序的类路径的条目。您可以使用<code>--include</code>和添加和删除jar的显式路径<code>--exclude</code>。两者都用逗号分隔，并且都接受前缀“ +”和“-”形式，以表示应将其从默认值中删除。默认包括以下内容：</p> <div class="language- extra-class"><pre class="language-text"><code>公共/ **，资源/ **，静态/ **，模板/ **，META-INF / **，*
</code></pre></div><p>默认排除项如下：</p> <div class="language- extra-class"><pre class="language-text"><code>。*，存储库/ **，构建/ **，目标/**、**/*.jar、**/*.groovy
</code></pre></div><p><code>spring help jar</code>在命令行上键入以获取更多信息。</p> <h3 id="_2-4。初始化新项目"><a href="#_2-4。初始化新项目" class="header-anchor">#</a> 2.4。初始化新项目</h3> <p>该<code>init</code>命令使您可以使用<a href="https://start.spring.io/" target="_blank" rel="noopener noreferrer">start.spring.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>创建新项目，而无需离开外壳，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$ spring init --dependencies = web，data-jpa我的项目
在https://start.spring.io使用服务
将项目提取到“ / Users / developer / example / my-project”
</code></pre></div><p>前面的示例创建一个<code>my-project</code>目录，该目录包含使用<code>spring-boot-starter-web</code>和的基于Maven的项目<code>spring-boot-starter-data-jpa</code>。您可以使用该<code>--list</code>标志列出服务的功能，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$ spring init-列表
======================================
https://start.spring.io的功能
======================================

可用依赖项：
-----------------------
执行器-执行器：生产就绪功能可帮助您监视和管理应用程序
...
web-Web：支持全栈式Web开发，包括Tomcat和spring-webmvc
websocket-Websocket：支持WebSocket开发
ws-WS：对Spring Web Services的支持

可用的项目类型：
------------------------
gradle-build-Gradle Config [格式：内部，内部：gradle]
gradle-project-Gradle项目[格式：项目，内部版本：渐变]
Maven构建-Maven POM [格式：构建，构建：Maven]
maven-project-Maven项目[格式：项目，内部版本：maven]（默认）

...
</code></pre></div><p>该<code>init</code>命令支持许多选项。有关<code>help</code>更多详细信息，请参见输出。例如，以下命令创建使用Java 8和<code>war</code>打包的Gradle项目：</p> <div class="language- extra-class"><pre class="language-text"><code>$ spring init --build = gradle --java-version = 1.8 --dependencies = websocket --packaging = war sample-app.zip
在https://start.spring.io使用服务
内容已保存到“ sample-app.zip”
</code></pre></div><h3 id="_2-5。使用嵌入式外壳"><a href="#_2-5。使用嵌入式外壳" class="header-anchor">#</a> 2.5。使用嵌入式外壳</h3> <p>Spring Boot包含用于BASH和zsh Shell的命令行完成脚本。如果您不使用这些外壳程序中的任何一个（也许您是Windows用户），则可以使用<code>shell</code>命令启动集成外壳程序，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$ spring shell
 Spring Boot（v2.2.2.RELEASE）
点击TAB完成。键入\'help'并单击RETURN以获取帮助，然后单击\'exit'退出。
</code></pre></div><p>在嵌入式外壳程序内部，您可以直接运行其他命令：</p> <div class="language- extra-class"><pre class="language-text"><code>$版本
Spring CLI v2.2.2.RELEASE
</code></pre></div><p>嵌入式外壳支持ANSI颜色输出和<code>tab</code>完成。如果需要运行本机命令，则可以使用<code>!</code>前缀。要退出嵌入式外壳，请按<code>ctrl-c</code>。</p> <h3 id="_2-6。将扩展添加到cli"><a href="#_2-6。将扩展添加到cli" class="header-anchor">#</a> 2.6。将扩展添加到CLI</h3> <p>您可以使用以下<code>install</code>命令将扩展添加到CLI 。该命令采用格式<code>group:artifact:version</code>为的一组或多组工件坐标，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$ spring安装com.example：spring-boot-cli-extension：1.0.0.RELEASE
</code></pre></div><p>除了安装由您提供的坐标标识的工件之外，还将安装所有工件的依赖项。</p> <p>要卸载依赖项，请使用<code>uninstall</code>命令。与该<code>install</code>命令一样，它采用一组或多组工件坐标，格式为<code>group:artifact:version</code>，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$ spring卸载com.example：spring-boot-cli-extension：1.0.0.RELEASE
</code></pre></div><p>它将卸载由您提供的坐标及其依赖项标识的工件。</p> <p>要卸载所有其他依赖项，可以使用该<code>--all</code>选项，如以下示例所示：</p> <div class="language- extra-class"><pre class="language-text"><code>$ spring卸载--all
</code></pre></div><h2 id="_3-使用groovy-bean-dsl开发应用程序"><a href="#_3-使用groovy-bean-dsl开发应用程序" class="header-anchor">#</a> 3.使用Groovy Bean DSL开发应用程序</h2> <p>Spring Framework 4.0对<code>beans{}</code>“ DSL”（从<a href="https://grails.org/" target="_blank" rel="noopener noreferrer">Grails<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>借来的）具有本地支持，您可以使用相同的格式将Bean定义嵌入Groovy应用程序脚本中。有时这是包括外部功能（如中间件声明）的好方法，如以下示例所示：</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token keyword">implements</span> <span class="token class-name">CommandLineRunner</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    SharedService service

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span>String<span class="token punctuation">...</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        println service<span class="token punctuation">.</span>message
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">import</span> my<span class="token punctuation">.</span>company<span class="token punctuation">.</span>SharedService

beans <span class="token punctuation">{</span>
    <span class="token function">service</span><span class="token punctuation">(</span>SharedService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        message <span class="token operator">=</span> <span class="token string gstring">&quot;Hello World&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>您可以<code>beans{}</code>在同一文件中混合使用类声明，只要它们位于顶层即可；或者，如果愿意，可以将bean DSL放在单独的文件中。</p> <h2 id="_4-使用以下命令配置cli-settings-xml"><a href="#_4-使用以下命令配置cli-settings-xml" class="header-anchor">#</a> 4.使用以下命令配置CLI <code>settings.xml</code></h2> <p>Spring Boot CLI使用Maven的依赖关系解析引擎Aether来解决依赖关系。CLI利用其中的Maven配置<code>~/.m2/settings.xml</code>来配置Aether。CLI遵循以下配置设置：</p> <ul><li>离线</li> <li>后视镜</li> <li>伺服器</li> <li>代理人</li> <li>个人资料
<ul><li>激活</li> <li>储存库</li></ul></li> <li>活动资料</li></ul> <p>有关更多信息，请参见<a href="https://maven.apache.org/settings.html" target="_blank" rel="noopener noreferrer">Maven的设置文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h2 id="_5-接下来阅读什么"><a href="#_5-接下来阅读什么" class="header-anchor">#</a> 5.接下来阅读什么</h2> <p>GitHub存储库中提供了一些<a href="https://github.com/spring-projects/spring-boot/tree/v2.2.2.RELEASE/spring-boot-project/spring-boot-cli/samples" target="_blank" rel="noopener noreferrer">示例groovy脚本<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，您可以使用它们来试用Spring Boot CLI。在整个<a href="https://github.com/spring-projects/spring-boot/tree/v2.2.2.RELEASE/spring-boot-project/spring-boot-cli/src/main/java/org/springframework/boot/cli" target="_blank" rel="noopener noreferrer">源代码中<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>也有广泛的Javadoc 。</p> <p>如果发现达到了CLI工具的极限，则可能需要考虑将应用程序转换为完整的Gradle或Maven构建的“ Groovy项目”。下一部分将介绍Spring Boot的“ <a href="https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/reference/html/build-tool-plugins.html#build-tool-plugins" target="_blank" rel="noopener noreferrer">构建工具插件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ”，您可以将其与Gradle或Maven一起使用。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/spring/部署SpringBoot应用程序.html" class="prev">
        部署Spring Boot应用程序
      </a></span> <span class="next"><a href="/spring/生成工具插件.html">
        生成工具插件
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b6fcbba0.js" defer></script><script src="/assets/js/2.0769d472.js" defer></script><script src="/assets/js/76.ec1c236a.js" defer></script>
  </body>
</html>
