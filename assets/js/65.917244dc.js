(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{399:function(t,e,r){"use strict";r.r(e);var n=r(26),a=Object(n.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"redis-有序集合-sorted-set"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#redis-有序集合-sorted-set"}},[t._v("#")]),t._v(" Redis 有序集合(sorted set)")]),t._v(" "),r("p",[t._v("Redis 有序集合和集合一样也是string类型元素的集合,且不允许重复的成员。")]),t._v(" "),r("p",[t._v("不同的是每个元素都会关联一个double类型的分数。redis正是通过分数来为集合中的成员进行从小到大的排序。")]),t._v(" "),r("p",[t._v("有序集合的成员是唯一的,但分数(score)却可以重复。")]),t._v(" "),r("p",[t._v("集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。 集合中最大的成员数为 232 - 1 (4294967295, 每个集合可存储40多亿个成员)。")]),t._v(" "),r("h3",{attrs:{id:"实例"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v('redis 127.0.0.1:6379> ZADD w3ckey 1 redis\n(integer) 1\nredis 127.0.0.1:6379> ZADD w3ckey 2 mongodb\n(integer) 1\nredis 127.0.0.1:6379> ZADD w3ckey 3 mysql\n(integer) 1\nredis 127.0.0.1:6379> ZADD w3ckey 3 mysql\n(integer) 0\nredis 127.0.0.1:6379> ZADD w3ckey 4 mysql\n(integer) 0\nredis 127.0.0.1:6379> ZRANGE w3ckey 0 10 WITHSCORES\n \n1) "redis"\n2) "1"\n3) "mongodb"\n4) "2"\n5) "mysql"\n6) "4"\n')])])]),r("p",[t._v("在以上实例中我们通过命令 "),r("strong",[t._v("ZADD")]),t._v(" 向 redis 的有序集合中添加了三个值并关联上分数。")]),t._v(" "),r("hr"),t._v(" "),r("h2",{attrs:{id:"redis-有序集合命令"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#redis-有序集合命令"}},[t._v("#")]),t._v(" Redis 有序集合命令")]),t._v(" "),r("p",[t._v("下表列出了 redis 有序集合的基本命令:")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",{staticStyle:{"text-align":"left"}},[t._v("序号")]),t._v(" "),r("th",{staticStyle:{"text-align":"left"}},[t._v("命令及描述")])])]),t._v(" "),r("tbody",[r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("[ZADD key score1 member1 "),r("a",{attrs:{href:"https://www.redis.net.cn/order/3609.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("score2 member2]"),r("OutboundLink")],1),t._v(" 向有序集合添加一个或多个成员，或者更新已存在成员的分数")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("2")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.redis.net.cn/order/3610.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZCARD key"),r("OutboundLink")],1),t._v(" 获取有序集合的成员数")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("3")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.redis.net.cn/order/3611.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZCOUNT key min max"),r("OutboundLink")],1),t._v(" 计算在有序集合中指定区间分数的成员数")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("4")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.redis.net.cn/order/3612.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZINCRBY key increment member"),r("OutboundLink")],1),t._v(" 有序集合中对指定成员的分数加上增量 increment")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("5")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("[ZINTERSTORE destination numkeys key "),r("a",{attrs:{href:"https://www.redis.net.cn/order/3613.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("key ...]"),r("OutboundLink")],1),t._v(" 计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("6")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.redis.net.cn/order/3614.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZLEXCOUNT key min max"),r("OutboundLink")],1),t._v(" 在有序集合中计算指定字典区间内成员数量")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("7")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("[ZRANGE key start stop "),r("a",{attrs:{href:"https://www.redis.net.cn/order/3615.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WITHSCORES]"),r("OutboundLink")],1),t._v(" 通过索引区间返回有序集合成指定区间内的成员")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("8")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("[ZRANGEBYLEX key min max "),r("a",{attrs:{href:"https://www.redis.net.cn/order/3616.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("LIMIT offset count]"),r("OutboundLink")],1),t._v(" 通过字典区间返回有序集合的成员")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("9")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("[ZRANGEBYSCORE key min max "),r("a",{attrs:{href:"https://www.redis.net.cn/order/3617.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WITHSCORES] [LIMIT]"),r("OutboundLink")],1),t._v(" 通过分数返回有序集合指定区间内的成员")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("10")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.redis.net.cn/order/3618.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZRANK key member"),r("OutboundLink")],1),t._v(" 返回有序集合中指定成员的索引")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("11")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("[ZREM key member "),r("a",{attrs:{href:"https://www.redis.net.cn/order/3619.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("member ...]"),r("OutboundLink")],1),t._v(" 移除有序集合中的一个或多个成员")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("12")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.redis.net.cn/order/3620.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZREMRANGEBYLEX key min max"),r("OutboundLink")],1),t._v(" 移除有序集合中给定的字典区间的所有成员")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("13")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.redis.net.cn/order/3621.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZREMRANGEBYRANK key start stop"),r("OutboundLink")],1),t._v(" 移除有序集合中给定的排名区间的所有成员")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("14")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.redis.net.cn/order/3622.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZREMRANGEBYSCORE key min max"),r("OutboundLink")],1),t._v(" 移除有序集合中给定的分数区间的所有成员")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("15")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("[ZREVRANGE key start stop "),r("a",{attrs:{href:"https://www.redis.net.cn/order/3623.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WITHSCORES]"),r("OutboundLink")],1),t._v(" 返回有序集中指定区间内的成员，通过索引，分数从高到底")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("16")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("[ZREVRANGEBYSCORE key max min "),r("a",{attrs:{href:"https://www.redis.net.cn/order/3624.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WITHSCORES]"),r("OutboundLink")],1),t._v(" 返回有序集中指定分数区间内的成员，分数从高到低排序")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("17")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.redis.net.cn/order/3625.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZREVRANK key member"),r("OutboundLink")],1),t._v(" 返回有序集合中指定成员的排名，有序集成员按分数值递减(从大到小)排序")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("18")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.redis.net.cn/order/3626.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZSCORE key member"),r("OutboundLink")],1),t._v(" 返回有序集中，成员的分数值")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("19")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("[ZUNIONSTORE destination numkeys key "),r("a",{attrs:{href:"https://www.redis.net.cn/order/3627.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("key ...]"),r("OutboundLink")],1),t._v(" 计算给定的一个或多个有序集的并集，并存储在新的 key 中")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("20")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("[ZSCAN key cursor "),r("a",{attrs:{href:"https://www.redis.net.cn/order/3628.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MATCH pattern] [COUNT count]"),r("OutboundLink")],1),t._v(" 迭代有序集合中的元素（包括元素成员和元素分值）")])])])])])}),[],!1,null,null,null);e.default=a.exports}}]);