(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{390:function(t,s,a){"use strict";a.r(s);var n=a(26),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"spring-cloud构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#spring-cloud构建"}},[t._v("#")]),t._v(" Spring Cloud构建")]),t._v(" "),a("p",[t._v("Spring Cloud Build是Spring Cloud的通用实用程序项目，可用于插件和依赖项管理。")]),t._v(" "),a("h2",{attrs:{id:"构建和部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建和部署"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_building_and_deploying",target:"_blank",rel:"noopener noreferrer"}},[t._v("构建和部署"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("要在本地安装：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ mvn install -s .settings.xml\n")])])]),a("p",[t._v("并将快照部署到repo.spring.io：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ mvn deploy -DaltSnapshotDeploymentRepository = repo.spring.io ::默认:: https：//repo.spring.io/libs-snapshot-local\n")])])]),a("p",[t._v("供发布版本使用")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ mvn deploy -DaltReleaseDeploymentRepository = repo.spring.io ::默认:: https：//repo.spring.io/libs-release-local\n")])])]),a("p",[t._v("和供jcenter使用")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ mvn deploy -DaltReleaseDeploymentRepository = bintray ::默认:: https：//api.bintray.com/maven/spring/jars/org.springframework.cloud：build\n")])])]),a("p",[t._v("并供Maven Central使用")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ mvn deploy -P central -DaltReleaseDeploymentRepository = sonatype-nexus-staging :: default :: https：//oss.sonatype.org/service/local/staging/deploy/maven2\n")])])]),a("p",[t._v("（“中央”配置文件可用于Spring Cloud中的所有项目，并且它设置了gpg jar签名，并且必须为此项目单独指定存储库，因为它是Starter父级的父级，而用户又将其作为初始父级自己的父母）。")]),t._v(" "),a("h2",{attrs:{id:"贡献"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#贡献"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_contributing",target:"_blank",rel:"noopener noreferrer"}},[t._v("贡献"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Spring Cloud是在非限制性Apache 2.0许可下发布的，并且遵循非常标准的Github开发流程，使用Github跟踪程序解决问题并将合并请求合并到master中。如果您想贡献些微不足道的东西，请不要犹豫，但请遵循以下准则。")]),t._v(" "),a("h3",{attrs:{id:"签署贡献者许可协议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#签署贡献者许可协议"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_sign_the_contributor_license_agreement",target:"_blank",rel:"noopener noreferrer"}},[t._v("签署贡献者许可协议"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("在我们接受不重要的补丁或请求请求之前，我们将需要您签署“ "),a("a",{attrs:{href:"https://cla.pivotal.io/sign/spring",target:"_blank",rel:"noopener noreferrer"}},[t._v("贡献者许可协议”"),a("OutboundLink")],1),t._v("。签署贡献者协议并不会授予任何人对主存储库的提交权，但这确实意味着我们可以接受您的贡献，并且如果您这样做，您将获得作者的荣誉。可能需要活跃的贡献者加入核心团队，并具有合并合并请求的能力。")]),t._v(" "),a("h3",{attrs:{id:"行为守则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#行为守则"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_code_of_conduct",target:"_blank",rel:"noopener noreferrer"}},[t._v("行为守则"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("该项目遵守《贡献者公约》"),a("a",{attrs:{href:"https://github.com/spring-cloud/spring-cloud-build/blob/master/docs/src/main/asciidoc/code-of-conduct.adoc",target:"_blank",rel:"noopener noreferrer"}},[t._v("行为守则"),a("OutboundLink")],1),t._v("。通过参与，您将遵守此代码。请向"),a("a",{attrs:{href:"mailto:spring-code-of-conduct@pivotal.io"}},[t._v("spring-code-of-conduct@pivotal.io")]),t._v("报告不可接受的行为。")]),t._v(" "),a("h3",{attrs:{id:"规范和内务守则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规范和内务守则"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_code_conventions_and_housekeeping",target:"_blank",rel:"noopener noreferrer"}},[t._v("规范和内务守则"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("这些对于拉取请求都不是必不可少的，但它们都会有所帮助。也可以在原始请求请求之后但在合并之前添加它们。")]),t._v(" "),a("ul",[a("li",[t._v("使用Spring Framework代码格式约定。如果您使用Eclipse，则可以使用"),a("a",{attrs:{href:"https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/spring-cloud-dependencies-parent/eclipse-code-formatter.xml",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring Cloud Build"),a("OutboundLink")],1),t._v("项目中的"),a("code",[t._v("eclipse-code-formatter.xml")]),t._v("文件 导入格式化程序设置 。如果使用IntelliJ，则可以使用 "),a("a",{attrs:{href:"https://plugins.jetbrains.com/plugin/6546",target:"_blank",rel:"noopener noreferrer"}},[t._v("Eclipse Code Formatter插件"),a("OutboundLink")],1),t._v("来导入相同的文件。")]),t._v(" "),a("li",[t._v("确保所有新"),a("code",[t._v(".java")]),t._v("文件都具有简单的Javadoc类注释，其中至少包含一个"),a("code",[t._v("@author")]),t._v("用于标识您的 标签，并且最好至少包含有关该类用途的段落。")]),t._v(" "),a("li",[t._v("将ASF许可证标头注释添加到所有新"),a("code",[t._v(".java")]),t._v("文件（从项目中的现有文件复制）")]),t._v(" "),a("li",[t._v("将您自己添加为"),a("code",[t._v("@author")]),t._v("您进行了实质性修改（而不是外观更改）的.java文件。")]),t._v(" "),a("li",[t._v("添加一些Javadocs，如果更改名称空间，则添加一些XSD doc元素。")]),t._v(" "),a("li",[t._v("进行一些单元测试也有很大帮助-有人必须这样做。")]),t._v(" "),a("li",[t._v("如果没有其他人在使用您的分支，请根据当前的主节点（或主项目中的其他目标分支）对其进行重新设置。")]),t._v(" "),a("li",[t._v("编写提交消息时，请遵循"),a("a",{attrs:{href:"https://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("以下约定"),a("OutboundLink")],1),t._v("，如果要解决现有问题，请"),a("code",[t._v("Fixes gh-XXXX")]),t._v("在提交消息的末尾添加（其中XXXX是问题编号）。")])]),t._v(" "),a("h3",{attrs:{id:"checkstyle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#checkstyle"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_checkstyle",target:"_blank",rel:"noopener noreferrer"}},[t._v("Checkstyle"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Spring Cloud Build带有一组checkstyle规则。您可以在"),a("code",[t._v("spring-cloud-build-tools")]),t._v("模块中找到它们。该模块下最值得注意的文件是：")]),t._v(" "),a("p",[t._v("spring-cloud-build-tools /")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("└──src\n    ├──格纹\n    │└──checkstyle-suppressions.xml \n    └──主要\n        └──资源\n            ├──checkstyle-header.txt \n            └──checkstyle.xml \n")])])]),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("默认Checkstyle规则")])])]),t._v(" "),a("tbody",[a("tr",[a("td"),t._v(" "),a("td",[t._v("文件头设置")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("默认抑制规则")])])])]),t._v(" "),a("h4",{attrs:{id:"checkstyle配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#checkstyle配置"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_checkstyle_configuration",target:"_blank",rel:"noopener noreferrer"}},[t._v("Checkstyle配置"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Checkstyle规则"),a("strong",[t._v("默认")]),t._v("为"),a("strong",[t._v("禁用")]),t._v("。要将checkstyle添加到项目中，只需定义以下属性和插件。")]),t._v(" "),a("p",[t._v("pom.xml")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<属性>\n<maven-checkstyle-plugin.failsOnError> true </maven-checkstyle-plugin.failsOnError> \n        <maven-checkstyle-plugin.failsOnViolation>是\n        </maven-checkstyle-plugin.failsOnViolation> \n        <maven-checkstyle-plugin.includeTestSourceDirectory> true\n        </maven-checkstyle-plugin.includeTestSourceDirectory> \n</ properties>\n\n<内部版本>\n        <插件>\n            <插件> \n                <groupId> io.spring.javaformat </ groupId>\n                <artifactId> spring-javaformat-maven-plugin </ artifactId>\n            </ plugin>\n            <插件> \n                <groupId> org.apache.maven.plugins </ groupId>\n                <artifactId> maven-checkstyle-plugin </ artifactId>\n            </ plugin>\n        </ plugins>\n\n    <报告>\n        <插件>\n            <插件> \n                <groupId> org.apache.maven.plugins </ groupId>\n                <artifactId> maven-checkstyle-plugin </ artifactId>\n            </ plugin>\n        </ plugins>\n    </ reporting>\n</ build>\n")])])]),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("因Checkstyle错误而无法构建")])])]),t._v(" "),a("tbody",[a("tr",[a("td"),t._v(" "),a("td",[t._v("因Checkstyle违规而无法构建")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("Checkstyle还分析测试源")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("添加Spring Java Format插件，它将重新格式化您的代码以通过大多数Checkstyle格式化规则")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("将Checkstyle插件添加到构建和报告阶段")])])])]),t._v(" "),a("p",[t._v("如果您需要取消某些规则（例如，行长需要更长），那么您就可以通过"),a("code",[t._v("${project.root}/src/checkstyle/checkstyle-suppressions.xml")]),t._v("抑制来定义一个文件。例：")]),t._v(" "),a("p",[t._v("projectRoot / src / checkstyle / checkstyle-suppresions.xml")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<？xml version =“ 1.0”？>\n<！DOCTYPE禁止显示PUBLIC\n\t\t“-//小狗爬网// DTD抑制1.1 // EN”\n\t\t“ https://www.puppycrawl.com/dtds/suppressions_1_1.dtd“>\n<抑制>\n\t<suppress files =“。* ConfigServerApplication \\ .java” checks =“ HideUtilityClassConstructor” />\n\t<suppress files =“。* ConfigClientWatch \\ .java” checks =“ LineLengthCheck” />\n</ suppressions>\n")])])]),a("p",[t._v("建议将"),a("code",[t._v("${spring-cloud-build.rootFolder}/.editorconfig")]),t._v("和复制"),a("code",[t._v("${spring-cloud-build.rootFolder}/.springformat")]),t._v("到您的项目中。这样，将应用一些默认格式设置规则。您可以通过运行以下脚本来这样做：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/.editorconfig -o .editorconfig\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" .springformat\n")])])]),a("h3",{attrs:{id:"ide设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ide设置"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_ide_setup",target:"_blank",rel:"noopener noreferrer"}},[t._v("IDE设置"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"intellij-idea"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#intellij-idea"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_intellij_idea",target:"_blank",rel:"noopener noreferrer"}},[t._v("Intellij IDEA"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("为了设置Intellij，您应该导入我们的编码约定，检查配置文件并设置checkstyle插件。在"),a("a",{attrs:{href:"https://github.com/spring-cloud/spring-cloud-build/tree/master/spring-cloud-build-tools",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring Cloud Build"),a("OutboundLink")],1),t._v("项目中可以找到以下文件。")]),t._v(" "),a("p",[t._v("spring-cloud-build-tools /")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("└──src\n    ├──格纹\n    │└──checkstyle-suppressions.xml \n    └──主要\n        └──资源\n            ├──checkstyle-header.txt \n            ├──checkstyle.xml \n            └──intellij\n                ├──Intellij_Project_Defaults.xml \n                └──Intellij_Spring_Boot_Java_Conventions.xml \n")])])]),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("默认Checkstyle规则")])])]),t._v(" "),a("tbody",[a("tr",[a("td"),t._v(" "),a("td",[t._v("文件头设置")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("默认抑制规则")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("适用于大多数Checkstyle规则的Intellij项目默认值")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("适用于大多数Checkstyle规则的Intellij的项目样式约定")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/docs/src/main/asciidoc/images/intellij-code-style.png",alt:"代码风格"}})]),t._v(" "),a("p",[t._v("图1.代码样式")]),t._v(" "),a("p",[t._v("进入"),a("code",[t._v("File")]),t._v("→交通"),a("code",[t._v("Settings")]),t._v("→交通"),a("code",[t._v("Editor")]),t._v("→交通"),a("code",[t._v("Code style")]),t._v("。单击该"),a("code",[t._v("Scheme")]),t._v("部分旁边的图标。在那里，单击"),a("code",[t._v("Import Scheme")]),t._v("值并选择"),a("code",[t._v("Intellij IDEA code style XML")]),t._v("选项。导入"),a("code",[t._v("spring-cloud-build-tools/src/main/resources/intellij/Intellij_Spring_Boot_Java_Conventions.xml")]),t._v("文件。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/docs/src/main/asciidoc/images/intellij-inspections.png",alt:"代码风格"}})]),t._v(" "),a("p",[t._v("图2.检查配置文件")]),t._v(" "),a("p",[t._v("进入"),a("code",[t._v("File")]),t._v("→交通"),a("code",[t._v("Settings")]),t._v("→交通"),a("code",[t._v("Editor")]),t._v("→交通"),a("code",[t._v("Inspections")]),t._v("。单击该"),a("code",[t._v("Profile")]),t._v("部分旁边的图标。在此处，单击"),a("code",[t._v("Import Profile")]),t._v("并导入"),a("code",[t._v("spring-cloud-build-tools/src/main/resources/intellij/Intellij_Project_Defaults.xml")]),t._v("文件。")]),t._v(" "),a("p",[t._v("Checkstyle")]),t._v(" "),a("p",[t._v("要使Intellij与Checkstyle一起使用，您必须安装"),a("code",[t._v("Checkstyle")]),t._v("插件。建议还安装"),a("code",[t._v("Assertions2Assertj")]),t._v("来自动转换JUnit断言")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/docs/src/main/asciidoc/images/intellij-checkstyle.png",alt:"Checkstyle"}})]),t._v(" "),a("p",[t._v("进入"),a("code",[t._v("File")]),t._v("→交通"),a("code",[t._v("Settings")]),t._v("→交通"),a("code",[t._v("Other settings")]),t._v("→交通"),a("code",[t._v("Checkstyle")]),t._v("。单击"),a("code",[t._v("+")]),t._v("该"),a("code",[t._v("Configuration file")]),t._v("部分中的图标。在这里，您必须定义应从何处选择checkstyle规则。在上图中，我们从克隆的Spring Cloud Build存储库中选择了规则。但是，您可以指向春云构建计划的GitHub的库（例如用于"),a("code",[t._v("checkstyle.xml")]),t._v("："),a("code",[t._v("https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/spring-cloud-build-tools/src/main/resources/checkstyle.xml")]),t._v("）。我们需要提供以下变量：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("checkstyle.header.file")]),t._v("-请指向"),a("code",[t._v("spring-cloud-build-tools/src/main/resources/checkstyle-header.txt")]),t._v("克隆存储库中或通过"),a("code",[t._v("https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/spring-cloud-build-tools/src/main/resources/checkstyle-header.txt")]),t._v("URL 的Spring Cloud Build 文件。")]),t._v(" "),a("li",[a("code",[t._v("checkstyle.suppressions.file")]),t._v("-默认抑制。请将其指向Spring Cloud Build的"),a("code",[t._v("spring-cloud-build-tools/src/checkstyle/checkstyle-suppressions.xml")]),t._v("文件，该文件在您的克隆存储库中或通过"),a("code",[t._v("https://raw.githubusercontent.com/spring-cloud/spring-cloud-build/master/spring-cloud-build-tools/src/checkstyle/checkstyle-suppressions.xml")]),t._v("URL。")]),t._v(" "),a("li",[a("code",[t._v("checkstyle.additional.suppressions.file")]),t._v("-此变量对应于本地项目中的抑制。例如，您正在努力"),a("code",[t._v("spring-cloud-contract")]),t._v("。然后指向该"),a("code",[t._v("project-root/src/checkstyle/checkstyle-suppressions.xml")]),t._v("文件夹。的示例为"),a("code",[t._v("spring-cloud-contract")]),t._v("："),a("code",[t._v("/home/username/spring-cloud-contract/src/checkstyle/checkstyle-suppressions.xml")]),t._v("。")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("请记住将其设置为"),a("code",[t._v("Scan Scope")]),t._v("，"),a("code",[t._v("All sources")]),t._v("因为我们将checkstyle规则应用于生产和测试源。")])]),t._v(" "),a("h2",{attrs:{id:"展平pom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#展平pom"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_flattening_the_poms",target:"_blank",rel:"noopener noreferrer"}},[t._v("展平POM"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("为了避免传播构建Spring Cloud项目所需的构建设置，我们使用了maven flatten插件。它的优点是可以在将“干净”的pom发布到存储库时使用所需的任何功能。")]),t._v(" "),a("p",[t._v("为了添加它，请将添加"),a("code",[t._v("org.codehaus.mojo:flatten-maven-plugin")]),t._v("到您的中"),a("code",[t._v("pom.xml")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.codehaus.mojo"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("flatten-maven-plugin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"重用文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重用文档"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_reusing_the_documentation",target:"_blank",rel:"noopener noreferrer"}},[t._v("重用文档"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Spring Cloud Build发布其"),a("code",[t._v("spring-cloud-build-docs")]),t._v("模块，该模块包含有用的脚本（例如README生成ruby脚本）以及CSS，xslt和Spring Cloud文档的图像。如果要遵循生成文档的相同约定，只需将这些插件添加到"),a("code",[t._v("docs")]),t._v("模块中")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("profiles")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("profile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("docs"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("pl.project13.maven"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("git-commit-id-plugin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.apache.maven.plugins"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("maven-dependency-plugin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.apache.maven.plugins"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("maven-resources-plugin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.codehaus.mojo"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("exec-maven-plugin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.asciidoctor"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("asciidoctor-maven-plugin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.apache.maven.plugins"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("maven-antrun-plugin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("profile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("profiles")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("该插件下载可设置项目的所有git信息")])])]),t._v(" "),a("tbody",[a("tr",[a("td"),t._v(" "),a("td",[t._v("该插件下载"),a("code",[t._v("spring-cloud-build-docs")]),t._v("模块的资源")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("该插件解压缩"),a("code",[t._v("spring-cloud-build-docs")]),t._v("模块的资源")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("此插件会"),a("code",[t._v("adoc")]),t._v("从类路径生成具有所有配置属性的文件")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("解析Asciidoctor文档需要此插件")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("需要使用此插件将资源复制到正确的最终目标并生成主README.adoc并断言没有文件使用未解析的链接")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("插件声明的顺序很重要！")])]),t._v(" "),a("p",[t._v("为了使生成的"),a("code",[t._v("adoc")]),t._v("文件具有所有配置属性，"),a("code",[t._v("docs")]),t._v("模块应包含要扫描配置属性的类路径上的所有依赖项。该文件将输出到"),a("code",[t._v("${docsModule}/src/main/asciidoc/_configprops.adoc")]),t._v("文件（可通过"),a("code",[t._v("configprops.path")]),t._v("属性配置）。")]),t._v(" "),a("p",[t._v("如果要修改表中的哪些配置属性，则可以调整"),a("code",[t._v("configprops.inclusionPattern")]),t._v("模式以仅包括属性的子集（例如"),a("code",[t._v("<configprops.inclusionPattern>spring.sleuth.*</configprops.inclusionPattern>")]),t._v("）。")]),t._v(" "),a("p",[t._v("Spring Cloud Build Docs附带了一组可重复使用的asciidoctor属性。")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("attributes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("docinfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("shared"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("docinfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("allow-uri-read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("true"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("allow-uri-read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("nofooter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("toc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("left"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("toc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("toc-levels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("4"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("toc-levels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("sectlinks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("true"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("sectlinks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("sources-root")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${project.basedir}/src"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("sources-root")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("asciidoc-sources-root")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${project.basedir}/src/main/asciidoc"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("asciidoc-sources-root")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("generated-resources-root")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${project.basedir}/target/generated-resources\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("generated-resources-root")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Use this attribute the reference code from another module --\x3e")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Note the @ at the end, lowering the precedence of the attribute --\x3e")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("project-root")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${maven.multiModuleProjectDirectory}@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("project-root")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- It's mandatory for you to pass the docs.main property --\x3e")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("github-repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${docs.main}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("github-repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("github-raw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\thttps://raw.githubusercontent.com/spring-cloud/${docs.main}/${github-tag}@\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("github-raw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("github-code")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("https://github.com/spring-cloud/${docs.main}/tree/${github-tag}@\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("github-code")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("github-issues")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("https://github.com/spring-cloud/${docs.main}/issues/@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("github-issues")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("github-wiki")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("https://github.com/spring-cloud/${docs.main}/wiki@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("github-wiki")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("github-master-code")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("https://github.com/spring-cloud/${docs.main}/tree/master\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("github-master-code")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("index-link")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${index-link}@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("index-link")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Spring Cloud specific --\x3e")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- for backward compatibility --\x3e")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("spring-cloud-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${project.version}@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("spring-cloud-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("project-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${project.version}@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("project-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("github-tag")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${github-tag}@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("github-tag")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version-type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${version-type}@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version-type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("docs-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${docs-url}@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("docs-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("raw-docs-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${raw-docs-url}@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("raw-docs-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("project-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${project.version}@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("project-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("project-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${docs.main}@"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("project-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("attributes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"更新指南"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新指南"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-build/2.2.0.RELEASE/reference/html/#_updating_the_guides",target:"_blank",rel:"noopener noreferrer"}},[t._v("更新指南"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("我们假设您的项目在该"),a("code",[t._v("guides")]),t._v("文件夹下包含指南。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(".\n└── guides\n    ├── gs-guide1\n    ├── gs-guide2\n    └── gs-guide3\n")])])]),a("p",[t._v("这意味着该项目包含3个指南，它们与Spring Guides org中的以下指南相对应。")]),t._v(" "),a("ul",[a("li",[t._v("https://github.com/spring-guides/gs-guide1")]),t._v(" "),a("li",[t._v("https://github.com/spring-guides/gs-guide2")]),t._v(" "),a("li",[t._v("https://github.com/spring-guides/gs-guide3")])]),t._v(" "),a("p",[t._v("如果您使用这样的"),a("code",[t._v("-Pguides")]),t._v("配置文件部署项目")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ ./mvnw clean deploy -Pguides\n")])])]),a("p",[t._v("对于GA项目版本，将发生克隆"),a("code",[t._v("gs-guide1")]),t._v("，"),a("code",[t._v("gs-guide2")]),t._v("并"),a("code",[t._v("gs-guide3")]),t._v("使用您"),a("code",[t._v("guides")]),t._v("项目中的内容更新其内容。")]),t._v(" "),a("p",[t._v("您可以通过不添加"),a("code",[t._v("guides")]),t._v("配置文件或"),a("code",[t._v("-DskipGuides")]),t._v("在打开配置文件时传递系统属性来跳过此操作。")]),t._v(" "),a("p",[t._v("您可以配置通过传递给指南的项目版本"),a("code",[t._v("guides-project.version")]),t._v("（默认为"),a("code",[t._v("${project.version}")]),t._v("）。可以通过"),a("code",[t._v("guides-update.phase")]),t._v("（默认为"),a("code",[t._v("deploy")]),t._v("）配置指南更新的阶段。")])])}),[],!1,null,null,null);s.default=e.exports}}]);